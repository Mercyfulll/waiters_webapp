<div class="container">
    <h1>Coffee Shop</h1>
    <p>Hi! best wishes for the week</p>
    <h3>Waiters Shift</h3>
    <span class="error">
            {{messages.error}}
    </span>
        
    <form action="/" method="post">
            
        <div class="waiters">
            <label>Name : </label><input type="text" class="uName" name="uName" value={{name}}><br>
            <span class="errors">
                    {{messages.error1}}
        </span>
        <br>
            <div class="daysOf">
                <input type="checkbox" name="daysOfWeek" value="Monday" class="dayz"    >
                <label for="">Monday</label><br>
                <input type="checkbox" name="daysOfWeek" value="Tuesday" class="dayz"  >
                <label for="">Tuesday</label><br>
                <input type="checkbox" name="daysOfWeek" value="Wednesday" class="dayz" >
                <label for="">Wednesday</label><br>
                <input type="checkbox" name="daysOfWeek" value="Thursday" class="dayz" >
                <label for="">Thursday</label><br>
                <input type="checkbox" name="daysOfWeek" value="Friday" class="dayz" >
                <label for="">Friday</label><br>
                <input type="checkbox" name="daysOfWeek" value="Saturday" class="dayz"  >
                <label for="">Saturday</label><br>
                <input type="checkbox" name="daysOfWeek" value="Sunday" class="dayz">
                <label for="">Sunday</label><br>
            </div>
            <br>
            <span class="success">
                {{messages.success}}
            </span>
            
            <br>
            <button type="submit">Schedule</button>
        </div>
    </form>
    <script>
        // Function to handle checkbox state changes
        function handleCheckboxChange(checkbox) {
            // Get the checkbox value
            const value = checkbox.value;

            // Check if the checkbox is checked and save the state in localStorage
            if (checkbox.checked) {
                localStorage.setItem(value, 'true');
            } else {
                // If unchecked, remove the state from localStorage
                localStorage.removeItem(value);
            }
        }

        // Function to load and set checkbox states from localStorage
        function loadCheckboxStates() {
            const checkboxes = document.querySelectorAll('.dayz');
            checkboxes.forEach(checkbox => {
                const value = checkbox.value;
                if (localStorage.getItem(value) === 'true') {
                    checkbox.checked = true;
                }
                // Add an event listener to each checkbox
                checkbox.addEventListener('change', function() {
                    handleCheckboxChange(this);
                });
            });
        }

        // Call the function to load checkbox states when the page is loaded
        window.addEventListener('load', loadCheckboxStates);
    </script>
</div>